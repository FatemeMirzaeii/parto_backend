{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from \"react\";\nimport Head from \"next/head\";\nimport style from \"../../styles/Home.module.css\";\nimport { useRouter } from \"next/router\";\nimport useSWR from \"swr\";\nimport { useSelector } from \"react-redux\";\nimport GetVerify from \"../../component/backend/GetVerify\"; //authenticate mobile number\n//store data in backend\n//get token-id from backend\n// const { tokenId , error } = useSWR(\n//   \"https://api.github.com/repos/vercel/swr\",\n//   fetcher\n// );\n// if (error) return \"متاسفانه اطلاعات شما ثبت نشد. دوباره تلاش کنید.\";\n// if (!tokenId) return \"چند لحظه صبر کنید\";\n//store username and token-id in redux\n//go to inter view pages\n\nexport default function Authentication() {\n  var _useState = useState(false),\n      falseCode = _useState[0],\n      setFalseCode = _useState[1];\n\n  var _useState2 = useState(false),\n      secondDelayFlag = _useState2[0],\n      setSecondDelayFlag = _useState2[1];\n\n  var _useState3 = useState(0),\n      code = _useState3[0],\n      setCode = _useState3[1];\n\n  var _useState4 = useState(0),\n      mainCode = _useState4[0],\n      setMainCode = _useState4[1];\n\n  var router = useRouter();\n  var user = useSelector(function (state) {\n    return state.user;\n  });\n\n  var _GetVerify = GetVerify(user.phone, user.email),\n      data = _GetVerify.data,\n      error = _GetVerify.error;\n\n  if (error) {\n    // setSecondDelayFlag(true);\n    return __jsx(\"div\", null, \"\\u0645\\u062A\\u0627\\u0633\\u0641\\u0627\\u0646\\u0647 \\u062F\\u0631\\u062E\\u0648\\u0627\\u0633\\u062A \\u0634\\u0645\\u0627 \\u062B\\u0628\\u062A \\u0646\\u0634\\u062F\\u060C \\u0644\\u0637\\u0641\\u0627 \\u062F\\u0648\\u0628\\u0627\\u0631\\u0647 \\u062A\\u0644\\u0627\\u0634 \\u06A9\\u0646\\u06CC\\u062F.\");\n  }\n\n  if (!data) return \"چند لحظه صبر کنید\";\n  console.log(data.code + data.message + data.header);\n\n  function authenticate(event) {\n    event.preventDefault();\n    if (code == data.code) router.push(\"/signup/successful\");else return setFalseCode(true); //to do\n    //if entered code is ot correct\n  } // useEffect(() => {\n  // if (data) setMainCode(data.code);\n  // var timer1 = setTimeout(() => {\n  //   setFirstDelayFlag(true);\n  // }, 2000);\n  // var timer2 = setTimeout(() => {\n  //   setFirstDelayFlag(false);\n  //   setSecondDelayFlag(true);\n  // }, 3000);\n  // if (secondDelayFlag) router.push(\"/signup/successful\");\n  // return () => {\n  //   clearTimeout(timer1);\n  //   clearTimeout(timer2);\n  // };\n  // authenticate mobile number\n  // }, [user]);\n\n\n  return __jsx(\"div\", {\n    className: style.container\n  }, __jsx(Head, null, __jsx(\"title\", null, \"\\u062B\\u0628\\u062A \\u0646\\u0627\\u0645\")), __jsx(\"div\", null, \"\\u06A9\\u062F \\u0627\\u0631\\u0633\\u0627\\u0644 \\u0634\\u062F\\u0647 \\u0628\\u0631\\u0627\\u06CC \\u0627\\u06CC\\u0645\\u06CC\\u0644 \\u06CC\\u0627 \\u062A\\u0644\\u0641\\u0646 \\u0647\\u0645\\u0631\\u0627\\u0647 \\u062E\\u0648\\u062F \\u0631\\u0627 \\u0648\\u0627\\u0631\\u062F \\u06A9\\u0646\\u06CC\\u062F\", __jsx(\"form\", {\n    onSubmit: authenticate\n  }, __jsx(\"input\", {\n    type: \"number\",\n    value: code,\n    onChange: function onChange(e) {\n      return setCode(e.target.value);\n    }\n  }), __jsx(\"input\", {\n    type: \"submit\",\n    value: \"\\u062A\\u0627\\u06CC\\u06CC\\u062F \\u06A9\\u062F\"\n  })), falseCode && __jsx(\"p\", null, \"\\u06A9\\u062F \\u0648\\u0627\\u0631\\u062F \\u0634\\u062F\\u0647 \\u0635\\u062D\\u06CC\\u062D \\u0646\\u0645\\u06CC \\u0628\\u0627\\u0634\\u062F\")));\n}","map":null,"metadata":{},"sourceType":"module"}